from PIL import Image
import numpy as np

im = Image.open("grass.bmp")
img = np.array(im)

print('static __data_chip uint16_t grass[320] = {')

for row in img:
    count = 0
    aux = 0
    for pixel in row:
        count += 1
        aux = aux | ((0 if pixel[0] > 0 else 1) << (count - 1))

        if count == 16:
            print(hex(aux), end=',')
            count = 0
    print('')

print('};')


'''
static uint16_t grass[320] = {
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1fc,0x1fc,0x1fc,0x1fc,0x1fc,0x1fc,0x1fc,0x1fc,0x1fc,0x1fc,0x1fc,0x71fc,0x71fc,
0x0,0x0,0x0,0xff0,0xff0,0xff0,0xeff0,0xeff7,0xeff7,0xeff7,0xefff,0xefff,0xefff,0xefff,0xefff,0xefff,0xefff,0xefff,0xffff,0xffff,
0x0,0x3f8,0x3f8,0xfbfc,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,
0xfe0,0x7fef,0x7fef,0x7fef,0x7fef,0x7fef,0x7fff,0x7fff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,
0xf838,0xf839,0xf83f,0xf83f,0xf83f,0xf87f,0xf8ff,0xf8ff,0xf8ff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,0xffff,
0xf,0xf,0x3fff,0x3fff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,0xbfff,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1e0,0x1e0,0x1e0,0xfe0,0xfe0,0xfe0,0xfe0,0xfe0,0xfe0,0xfe0,0xfe0,0xffe0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
};

'''